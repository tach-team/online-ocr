# Online OCR - Chrome Extension

Chrome расширение для извлечения текста из изображений с помощью OCR (Optical Character Recognition).

## Возможности

- Выделение области на странице для извлечения текста
- Распознавание текста с помощью Tesseract.js (работает офлайн)
- Отображение процесса распознавания в side panel
- Копирование распознанного текста в буфер обмена
- Поддержка русского и английского языков

## Технологии

- **Manifest V3** - современный формат Chrome расширений
- **TypeScript** - типизированный JavaScript
- **Vite** - быстрый сборщик
- **Tesseract.js** - клиентская OCR библиотека

## Установка

### 1. Установка зависимостей

```bash
npm install
```

### 2. Создание иконок

Перед сборкой необходимо создать PNG иконки из SVG файла:

```bash
# Используя ImageMagick (если установлен)
convert icons/icon.svg -resize 16x16 icons/icon16.png
convert icons/icon.svg -resize 48x48 icons/icon48.png
convert icons/icon.svg -resize 128x128 icons/icon128.png

# Или используя онлайн конвертер (см. icons/README.md)
```

### 3. Сборка расширения

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

### 4. Загрузка в Chrome

1. Откройте Chrome и перейдите в `chrome://extensions/`
2. Включите "Режим разработчика" (Developer mode)
3. Нажмите "Загрузить распакованное расширение" (Load unpacked)
4. Выберите папку `dist/`

## Использование

1. Откройте любую веб-страницу
2. Нажмите на иконку расширения в панели инструментов Chrome
3. Side panel откроется автоматически
4. Выделите область на странице, из которой хотите извлечь текст (перетащите мышью)
5. Дождитесь завершения обработки
6. Нажмите "Копировать" для копирования текста в буфер обмена

## Разработка

### Режим разработки с автопересборкой

```bash
npm run dev
```

### Структура проекта

```
├── src/
│   ├── background.ts      # Service worker
│   ├── content.ts         # Content script с overlay
│   ├── sidepanel.html     # HTML side panel
│   ├── sidepanel.ts       # Логика side panel
│   ├── utils/
│   │   ├── ocr.ts         # OCR утилиты (Tesseract.js)
│   │   ├── selection.ts   # Управление выделением
│   │   └── image-crop.ts  # Обрезка изображений
│   └── styles/
│       ├── overlay.css    # Стили overlay
│       └── sidepanel.css  # Стили side panel
├── icons/                 # Иконки расширения
├── manifest.json          # Конфигурация расширения
├── vite.config.ts         # Конфигурация Vite
└── tsconfig.json          # Конфигурация TypeScript
```

## Особенности реализации

- **Overlay для выделения**: Кастомный overlay поверх страницы с возможностью рисования рамки мышью
- **Обрезка изображений**: Автоматическая обрезка скриншота по выделенной области
- **Прогресс OCR**: Отображение прогресса распознавания текста
- **Обработка ошибок**: Корректная обработка ошибок с возможностью повтора

## Требования

- Chrome 109+ (для поддержки side panel)
- Node.js 18+

## Лицензия

MIT
